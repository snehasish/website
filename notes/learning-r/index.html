<!DOCTYPE html>
<html lang="en">
<head>
        <title>Snehasish</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Removed FEED blocks, will add back ONE later -->
        <link href="http://www.snehasish.net/theme/css/bootstrap.css" rel="stylesheet" media="screen">
        <link href="http://www.snehasish.net/theme/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
        <link href='http://fonts.googleapis.com/css?family=Shadows+Into+Light+Two' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://www.snehasish.net/theme/css/base.css" />
        <link rel="stylesheet" href="http://www.snehasish.net/theme/css/syntax.css" />
        <script src="http://www.snehasish.net/theme/js/jquery-2.0.2.min.js"></script>
        <script src="http://www.snehasish.net/theme/js/bootstrap.min.js"></script>
</head>

<body id="index" class="home">

        <div class="container">

            <div class="row">            
                <div class="span12">
                    <h1 id="site-header"><a href="http://www.snehasish.net">Snehasish</a>
                        <small style="font-size:40%">(pronounced snā-hä-SHēSH)</small></h1>
                </div>
            </div>
            <hr style="margin:0px 0px 10px 0px;"/>
            <div class="row">
                <div class="span12">
                    <ul class="nav nav-pills pull-right">
                    
                    <li  ><a href="http://www.snehasish.net/index.html">Home</a></li>

                            <li class="active"><a href="http://www.snehasish.net/category/notes.html">Notes</a></li>

                            <li><a href="http://www.snehasish.net/pages/contact.html">Contact</a></li>
                            <li><a href="http://www.snehasish.net/pages/news.html">News</a></li>
                            <li><a href="http://www.snehasish.net/pages/research.html">Research</a></li>
                            <li><a href="http://www.snehasish.net/pages/resume.html">Resume</a></li>

                    
                    
                    </ul>
                </div>    
            </div>    
<div class="row">
  <div class="span12">
  <section id="content" class="body">
    
      <h3 class="entry-title">
        <a href="http://www.snehasish.net/notes/learning-r/" rel="bookmark"
           title="Permalink to Learning R">Learning R</a></h3>

      <div class="row">
        <div class="span8 pull-left">
            <span class="label">R</span>
            <span class="label">programming</span>
            <span class="label">statistics</span>
            <span class="label">coursera</span>
        </div>

        <div class="span4 pull-right text-right">
        <abbr class="published" title="2012-09-24T00:00:00-04:00">
          Mon 24 September 2012
        </abbr>
        </div>
      </div>

    <div class="entry-content">
      <p>I've spent almost the entire time as Master's student wrestling with different plotting tools and wondering about how best to visualise the data I collect, and working in the field of <em>Computer Architecture</em> means that there is a lot of data to analyse. I've finally decided to rectify this wrong and learn <em>R</em>. "<em>R</em> is a free software environment for statistical computing and graphics" (<a href="http://www.r-project.org/" title="The R Project">Homepage</a>). <a href="https://www.coursera.org/" title="Coursera Homepage">Coursera</a> is offering a month-long course on <em>R</em> called <a href="https://www.coursera.org/course/compdata">Computing for Data Analysis</a>, taught by Dr. Roger D. Peng who is an Associate Professor of Biostatistics at the Johns Hopkins Bloomberg School of Public Health and a Co-Editor of the <a href="http://simplystatistics.org/">Simply Statistics blog</a>. The course is structured based on the Mac and Windows distributions of R. I've decided to stick to Linux (Ubuntu 12.04). I have listed the Linux equivalents of any platform specific issues I come across.</p>
<h3>Installing R and R-Studio on Ubuntu 12.04</h3>
<p>To install <em>R</em> on Ubuntu using from your repository using apt-get, type the following into a terminal screen</p>
<div class="highlight"><pre>gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E084DAB9
gpg -a --export E084DAB9 | sudo apt-key add -
</pre></div>


<p>Add the mirror to your apt/sources.list file using</p>
<div class="highlight"><pre>echo &quot;deb http://cran.stat.sfu.ca/bin/linux/ubuntu precise/&quot; | sudo tee -a /etc/apt/sources.list
</pre></div>


<p>You can using a different mirror depending on your location/preference. Install the R packages with the following commands</p>
<div class="highlight"><pre>sudo apt-get update
sudo apt-get install r-base
</pre></div>


<p>You can now go ahead and <a href="http://rstudio.org/download/desktop">download R Studio</a>. Download the corresponding debian package (.deb) file for your architecture. Try installing the package using the command</p>
<div class="highlight"><pre>sudo dpkg -i rstudio-0.96.331-amd64.deb
</pre></div>


<p>You might get an error similar to what I saw, depending on which packages are missing ( R Studio depends on a lot of Qt packages which you may not have installed)</p>
<div class="highlight"><pre>Selecting previously unselected package rstudio.
(Reading database ... 164510 files and directories currently installed.)
Unpacking rstudio (from rstudio-0.96.331-amd64.deb) ...
dpkg: dependency problems prevent configuration of rstudio:
 rstudio depends on libjpeg62; however:
  Package libjpeg62 is not installed.
dpkg: error processing rstudio (--install):
 dependency problems - leaving unconfigured
</pre></div>


<p>So I went ahead and installed the missing package</p>
<div class="highlight"><pre>sudo apt-get install libjpeg62
</pre></div>


<p>And now we have R Studio ready. If for some reason that doesn't work for you check out the Cran <a href="http://cran.r-project.org/bin/linux/ubuntu/README.html">Ubuntu Readme</a>. </p>
<h3>R Basics</h3>
<ol>
<li>Bash style comments with #</li>
<li>Everything is an object and by default variables are vectors of objects.</li>
<li>Primitives are called <em>Atomic</em> objects:<ol>
<li>Numeric</li>
<li>Char</li>
<li>Integer </li>
<li>Complex</li>
<li>Logical</li>
</ol>
</li>
<li>Vectors contain only a single type of object</li>
<li>Lists are special vectors which can contain multiple types of objects</li>
<li>Assignment operator is <code>&lt;-</code></li>
<li>Operator <code>:</code> to create sequences (Similar to Matlab, but does not take 3 args)</li>
<li><code>c(...)</code> - Create vector from args. Also concat vectors of same type</li>
<li><code>vector(type,length)</code> - Create vector with default value using arguments</li>
<li><em>Type coercion</em> when <code>c(...)</code> used with non matching types - Silent - Watchout!</li>
<li>Explicit coercion using function as.<em>type</em>. E.g. - <code>as.numeric("a")</code></li>
<li><code>class(...)</code> - returns type information for arg.</li>
<li><code>NaN</code> - Not a Number , <code>Inf</code> - Infinity , <code>NA</code> - Not Available</li>
<li><code>is.na()</code> to check for <code>NA</code> and <code>is.nan()</code> to check for <code>NAN</code></li>
<li><code>factor(c(...)[, levels=c(...)])</code> creates a vector which I feel best descibed as <em>auto enumeration</em>, further more levels can be explicitly enumerated, this is useful for specifying baseline levels as some functions pick up the first level as the baseline.</li>
<li><code>table(...)</code> returns the frequency count</li>
<li>R objects can have names. E.g. <code>names(x) &lt;- c("a","b","c")</code> </li>
<li><code>??string</code> in R Studio will search the documentation for <code>string</code> and return relevant results </li>
<li><code>str(...)</code> returns info about the object</li>
</ol>
<h3>Matrices in R</h3>
<ol>
<li><code>matrix(nrow,ncol)</code> - Creates a matrix of NA with specified dimensions</li>
<li><code>dim(...)</code> - Returns the dimensions of the matrix</li>
<li><code>attributes(...)</code> - Shows attributes including dimension</li>
<li>Sequence can be used to create matrix. <code>matrix(1:n,nrow,ncol)</code> creates nrowXncol matrix with the elements of the sequence in column-major order</li>
<li>Forcing a matrix dimension on a vector will create a matrix. E.g. - <code>dim(m) &lt;- c(2,3)</code></li>
<li><code>cbind(...)</code> and <code>rbind(...)</code> are R equivalents of <code>vertcat</code> and <code>horzcat</code> in Matlab </li>
<li><code>nrow(...)</code> for number of rows and <code>ncol(...)</code> for number of columns</li>
<li>Matrix dimensions can have names. Use <code>dimnames(x) &lt;- list(c(...),c(...))</code></li>
</ol>
<h3>Data Frames</h3>
<ol>
<li>Special data structure to deal with tabular data</li>
<li>Each column is a vector of objects. (Thus each column should have objects of same type)</li>
<li>Unlike matrices, different columns can have different types of objects</li>
<li>Create a dummy data frame using <code>x &lt;- data.frame(col1=1:5,col2=c(T,F,F,F,F))</code>. <code>col1</code> and <code>col2</code> are the names of the columns and can be accessed by the <code>row.names</code> attribute</li>
<li>Data frames are usually created using <code>read.table()</code> or <code>read.csv()</code></li>
</ol>
<h3>Subsetting and Vector Operations</h3>
<ol>
<li>Operator <code>[index]</code> returns subset of same type, here index itself can be range or a vector</li>
<li>Operator <code>[["name"]]</code> returns object, can also be used to retrieve objects by index, cannot be used to extract multiple elements, tries an exact match for <code>name</code> by default (this behaviour can be modified by setting <code>exact=FALSE</code>)</li>
<li>Operator <code>$</code> returns object by name, also does partial matching of the name to lookup</li>
<li>Subsetting works on matrices as well, however <code>[,drop=FALSE]</code> needs to be specified in order to ensure that return is a matrix and not a vector. Indices can also be missing which would mean fetch the entire range. E.g. <code>mat[,2]</code></li>
<li><code>complete.cases(...)</code> returns a vector of <code>TRUE/FALSE</code> where all indices of args are not <code>NA</code></li>
<li>Subset chaining is possible. E.g. <code>x[1:10][1:5]</code> where x is a 1-dimensional vector</li>
<li>Normal operators are applied to vector <em>per element</em>, matrix operations are performed by enclosing with %. E.g. <code>x %*% y</code></li>
<li><code>subset(x, &lt;logical vector&gt;)</code> returns the subset using the logical vector.</li>
</ol>
<h3>Read/Writing Data</h3>
<ol>
<li><code>read.table(...)</code> returns data frame, see docs for args, <code>read.csv(...)</code> is similar except the default separator is a comma</li>
<li><code>read.table(...)</code> can get out of hand for very large data sets. Also object metadata overhead increases memory consumption to ~2X.</li>
<li>R also detects the type of each element whilst loading, if <code>colClasses</code> are specified then a noticable speedup can be attained. Here is a way of quickly picking up the correct classes:<div class="highlight"><pre>initial <span class="o">&lt;-</span> read.table<span class="p">(</span><span class="s">&quot;data.txt&quot;</span><span class="p">,</span>nrows<span class="o">=</span><span class="m">100</span><span class="p">)</span>
classes <span class="o">&lt;-</span> <span class="kp">sapply</span><span class="p">(</span>initial<span class="p">,</span> <span class="kp">class</span><span class="p">)</span>
full    <span class="o">&lt;-</span> read.table<span class="p">(</span><span class="s">&quot;data.txt&quot;</span><span class="p">,</span> colClasses<span class="o">=</span>classes<span class="p">)</span>
</pre></div>


</li>
</ol>
<h3>Environment</h3>
<p>The course describes usage on Mac and Windows. Here I will be documenting the Linux equivalents using R Studio. </p>
<ol>
<li>Set working director is found under <code>Tools &gt; Set Working Directory &gt; Choose Working Directory (Ctrl+Shift+K)</code> in R Studio. Alternatively use command <code>setwd(...)</code></li>
<li><code>dir()</code> gets contents of current working directory and <code>ls()</code> get contents of workspace (functions and objects loaded in the workspace like Matlab)</li>
<li>R scripts are saved with .R extension and functions syntax looks like this<div class="highlight"><pre><span class="nx">funtion_name</span> <span class="o">&lt;-</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="err">#</span> <span class="nx">Code</span>
<span class="p">}</span>
</pre></div>


<ol>
<li><code>source</code>'ing the file will load the functions into the workspace</li>
</ol>
</li>
</ol>
    </div><!-- /.entry-content -->

    

  </section>
  </div>
</div>

<hr style="margin:30px 0px 0px 0px;"/>
<div class="comments row">
  <div class="span2"></div>
  <div id="disqus_thread" class="span8"></div>
  <div class="span2"></div>
  <script type="text/javascript">
    var disqus_identifier = "notes/learning-r/";
    var disqus_url = "http://www.snehasish.net/notes/learning-r/";
    (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://snehasish.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
</div>


            <hr style="margin:30px 0px 0px 0px;"/>
            <div class="row">
                <div class="span12">
                    <footer class="text-center"> Generated by <a href="http://blog.getpelican.com/">pelican</a>. Uses Google <a href="http://www.google.com/fonts/">webfonts</a> and Twitter <a href="http://twitter.github.io/bootstrap/">bootstrap</a>.
                    <br />Copyright &copy; Snehasish Kumar, 2015
                    </footer>
                </div> 
            </div>

        </div>
<script type="text/javascript">
    var disqus_shortname = 'snehasish';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-42112602-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>